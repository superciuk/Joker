<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<window xmlns="http://schemas.haulmont.com/cuba/window.xsd"
        caption="msg://caption"
        class="com.joker.jokerapp.web.dialogs.ItemModifierDialog"
        messagesPack="com.joker.jokerapp.web.dialogs">
    <dsContext>
        <collectionDatasource id="modifierOrderLinesDs"
                              class="com.joker.jokerapp.entity.OrderLine">
            <query>
                <![CDATA[select e from jokerapp$OrderLine e where e.itemToModifyId = :param$selectedLine.id]]>
            </query>
        </collectionDatasource>
        <collectionDatasource id="productModifiersDs"
                              class="com.joker.jokerapp.entity.ProductModifier">
            <query>
                <![CDATA[select e from jokerapp$ProductModifier e]]>
            </query>
        </collectionDatasource>
        <collectionDatasource id="productItemsDs"
                              class="com.joker.jokerapp.entity.ProductItem">
            <query>
                <![CDATA[select e from jokerapp$ProductItem e]]>
            </query>
        </collectionDatasource>
    </dsContext>
    <dialogMode height="840"
                width="1600"/>
    <layout margin="true"
            spacing="true"
            stylename="mainLayout">
        <split id="firstSplit"
               height="100%"
               maxSplitPosition="33%"
               minSplitPosition="33%"
               orientation="horizontal"
               pos="33%"
               settingsEnabled="false"
               width="100%">
            <groupBox id="modifierOrderLinesGroupBox"
                      expand="modifierOrderLinesScrollBox"
                      height="100%"
                      settingsEnabled="false"
                      spacing="true">
                <scrollBox id="modifierOrderLinesScrollBox">
                    <dataGrid id="modifierOrderLinesDataGrid"
                              columnResizeMode="SIMPLE"
                              columnsCollapsingAllowed="false"
                              datasource="modifierOrderLinesDs"
                              sortable="false"
                              visible="false"
                              width="100%">
                        <columns>
                            <column collapsible="false"
                                    editable="false"
                                    property="quantity"
                                    resizable="false"
                                    sortable="false"
                                    width="20"/>
                            <column editable="false"
                                    property="itemName"
                                    resizable="false"
                                    sortable="false"
                                    width="200"/>
                            <column collapsible="false"
                                    editable="false"
                                    property="price"
                                    resizable="false"
                                    sortable="false"
                                    width="20"/>
                        </columns>
                    </dataGrid>
                </scrollBox>
                <buttonsPanel id="modifierOrderLinesButtonPanel"
                              align="BOTTOM_LEFT"
                              height="80px"
                              width="100%">
                    <button id="okBtn"
                            align="BOTTOM_LEFT"
                            caption="msg://OK"
                            height="60px"
                            invoke="onOkBtnClick"
                            width="100px"/>
                    <button id="cancelBtn"
                            align="BOTTOM_LEFT"
                            caption="msg://Cancel"
                            height="60px"
                            invoke="onCancelBtnClick"
                            width="100px"/>
                    <button id="modifierOrderLinesRemoveBtn"
                            align="BOTTOM_RIGHT"
                            caption="REMOVE"
                            height="60px"
                            invoke="onModifierOrderLinesRemoveBtnClick"
                            width="120px"/>
                </buttonsPanel>
            </groupBox>
            <split id="secondSplit"
                   height="100%"
                   maxSplitPosition="80%"
                   minSplitPosition="80%"
                   orientation="horizontal"
                   pos="80%"
                   settingsEnabled="false"
                   width="100%">
                <groupBox id="modifierItemGroupBox"
                          expand="modifierItemGridScrollBox"
                          height="100%"
                          settingsEnabled="false"
                          spacing="true">
                    <scrollBox id="modifierItemGridScrollBox">
                        <grid id="modifierItemGrid"
                              spacing="true"
                              width="100%">
                            <columns count="4"/>
                            <rows>
                                <row/>
                                <row/>
                                <row/>
                                <row/>
                                <row/>
                            </rows>
                        </grid>
                    </scrollBox>
                    <buttonsPanel id="modifierItemsButtonPanel"
                                  align="BOTTOM_LEFT"
                                  height="80px"
                                  width="350px">
                        <button id="addModifierBtn"
                                align="BOTTOM_LEFT"
                                caption="Add Modifier"
                                height="60px"
                                invoke="onAddModifierBtnClick"
                                width="160px"/>
                        <button id="removeModifierBtn"
                                align="BOTTOM_LEFT"
                                caption="Remove Modifier"
                                height="60px"
                                invoke="onRemoveModifierBtnClick"
                                width="160px"/>
                    </buttonsPanel>
                </groupBox>
                <groupBox id="modifierCategoriesGroupBox"
                          height="100%"
                          settingsEnabled="false"
                          spacing="true">
                    <scrollBox height="100%"
                               margin="true">
                        <grid id="modifierCategoriesGrid"
                              spacing="true"
                              width="100%">
                            <columns count="1"/>
                            <rows>
                                <row/>
                                <row/>
                                <row/>
                                <row/>
                                <row/>
                            </rows>
                        </grid>
                    </scrollBox>
                </groupBox>
            </split>
        </split>
    </layout>
</window>
