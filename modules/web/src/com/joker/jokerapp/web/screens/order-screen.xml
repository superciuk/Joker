<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<window xmlns="http://schemas.haulmont.com/cuba/window.xsd"
        caption="msg://caption"
        class="com.joker.jokerapp.web.screens.OrderScreen"
        messagesPack="com.joker.jokerapp.web.screens">
    <dsContext>
        <collectionDatasource id="productItemCategoriesDs"
                              class="com.joker.jokerapp.entity.ProductItemCategory"
                              view="productCategory-view">
            <query>
                <![CDATA[select e from jokerapp$ProductItemCategory e order by e.sortOrder ]]>
            </query>
        </collectionDatasource>
        <collectionDatasource id="productItemsDs"
                              class="com.joker.jokerapp.entity.ProductItem"
                              view="productItem-view">
            <query>
                <![CDATA[select e from jokerapp$ProductItem e order by e.sortOrder]]>
            </query>
        </collectionDatasource>
        <collectionDatasource id="productModifierCategoriesDs"
                              class="com.joker.jokerapp.entity.ProductModifierCategory"
                              view="productModifierCategory-view">
            <query>
                <![CDATA[select e from jokerapp$ProductModifierCategory e]]>
            </query>
        </collectionDatasource>
        <collectionDatasource id="productModifiersDs"
                              class="com.joker.jokerapp.entity.ProductModifier"
                              view="productModifier-view">
            <query>
                <![CDATA[select e from jokerapp$ProductModifier e]]>
            </query>
        </collectionDatasource>
        <datasource id="orderDs"
                    class="com.joker.jokerapp.entity.Order"
                    view="order-view"/>
        <collectionDatasource id="orderLinesDs"
                              class="com.joker.jokerapp.entity.OrderLine"
                              refreshMode="NEVER"
                              view="order-line-view"/>
    </dsContext>
    <dialogMode height="600"
                width="800"/>
    <layout margin="true"
            spacing="true"
            stylename="mainLayout">
        <split height="100%"
               maxSplitPosition="90%"
               minSplitPosition="90%"
               orientation="vertical"
               pos="90%"
               responsive="true"
               stylename="tableBtnsContainer"
               width="100%">
            <split height="100%"
                   maxSplitPosition="10%"
                   minSplitPosition="10%"
                   orientation="vertical"
                   pos="10%"
                   width="100%">
                <hbox height="100%"
                      margin="true"
                      width="100%">
                    <buttonsPanel align="MIDDLE_CENTER"
                                  height="100%">
                        <button id="subtractBtn"
                                align="MIDDLE_LEFT"
                                caption="-"
                                height="60px"
                                invoke="onSubtractBtnClick"
                                width="100px"/>
                        <button id="addBtn"
                                align="MIDDLE_LEFT"
                                caption="+"
                                height="60px"
                                invoke="onAddBtnClick"
                                width="100px"/>
                        <button id="removeBtn"
                                align="MIDDLE_LEFT"
                                caption="REMOVE"
                                height="60px"
                                invoke="onRemoveBtnClick"
                                width="100px"/>
                        <button id="addModifier"
                                align="MIDDLE_LEFT"
                                caption="MODIFY"
                                height="60px"
                                invoke="onAddModifierClick"
                                width="100px"/>
                        <button id="addManualModifier"
                                align="MIDDLE_LEFT"
                                caption="MANUAL&lt;br&gt;MODIFY"
                                captionAsHtml="true"
                                height="60px"
                                invoke="onAddManualModifierClick"
                                width="100px"/>
                        <button id="modifyPriceBtn"
                                align="MIDDLE_LEFT"
                                caption="MODIFY&lt;br&gt;PRICE"
                                captionAsHtml="true"
                                height="60px"
                                invoke="onModifyPriceBtnClick"
                                width="100px"/>
                    </buttonsPanel>
                    <timeField id="tableTimeField"
                               align="MIDDLE_CENTER"
                               editable="false"
                               height="60px"
                               width="145px"/>
                    <buttonsPanel align="MIDDLE_CENTER"
                                  height="100%"
                                  width="100%">
                        <button id="doNotPrintBtn"
                                align="MIDDLE_RIGHT"
                                caption="PRINT"
                                captionAsHtml="true"
                                height="60px"
                                invoke="onDoNotPrintBtnClick"
                                width="120px"/>
                    </buttonsPanel>
                </hbox>
                <split height="100%"
                       maxSplitPosition="32%"
                       minSplitPosition="32%"
                       orientation="horizontal"
                       pos="32%"
                       width="100%">
                    <vbox expand="orderLineGroupBox"
                          height="100%"
                          margin="false,false,false,true">
                        <groupBox id="orderLineGroupBox">
                            <scrollBox id="orderLineScrollBox"
                                       height="100%"/>
                        </groupBox>
                        <groupBox align="MIDDLE_CENTER"
                                  height="110px"
                                  settingsEnabled="false">
                            <hbox align="TOP_RIGHT"
                                  expand="billGroupBox"
                                  height="100%"
                                  spacing="true"
                                  width="100%">
                                <buttonsPanel align="MIDDLE_LEFT"
                                              height="60px"
                                              width="280px">
                                    <button id="orderLinesScrollUp"
                                            align="MIDDLE_LEFT"
                                            caption="SCROLL UP"
                                            height="60px"
                                            icon="ARROW_CIRCLE_UP"
                                            invoke="onOrderLinesScrollUpClick"
                                            width="120px"/>
                                    <button id="orderLinesScrollDown"
                                            align="MIDDLE_RIGHT"
                                            caption="SCROLL DOWN"
                                            height="60px"
                                            icon="ARROW_CIRCLE_DOWN"
                                            invoke="onOrderLinesScrollDownClick"
                                            width="120px"/>
                                </buttonsPanel>
                                <vbox id="billGroupBox"
                                      height="100%"
                                      settingsEnabled="false">
                                    <hbox align="MIDDLE_RIGHT"
                                          width="215px">
                                        <label id="subtotalLabel"
                                               align="MIDDLE_RIGHT"
                                               value="Subtotal"
                                               width="120px"/>
                                        <textField id="subtotalField"
                                                   align="MIDDLE_RIGHT"
                                                   editable="false"
                                                   height="16px"
                                                   width="115px"/>
                                    </hbox>
                                    <hbox align="MIDDLE_RIGHT"
                                          width="215px">
                                        <label id="serviceLabel"
                                               align="MIDDLE_RIGHT"
                                               value="Service 10%"
                                               width="120px"/>
                                        <textField id="serviceField"
                                                   align="MIDDLE_RIGHT"
                                                   editable="false"
                                                   height="16px"
                                                   width="115px"/>
                                    </hbox>
                                    <hbox align="MIDDLE_RIGHT"
                                          width="215px">
                                        <label id="totalLabel"
                                               align="MIDDLE_RIGHT"
                                               value="TOTAL"
                                               width="120px"/>
                                        <textField id="totalField"
                                                   align="MIDDLE_RIGHT"
                                                   editable="false"
                                                   height="16px"
                                                   width="115px"/>
                                    </hbox>
                                </vbox>
                            </hbox>
                        </groupBox>
                    </vbox>
                    <split height="100%"
                           maxSplitPosition="65%"
                           minSplitPosition="65%"
                           orientation="horizontal"
                           pos="65%"
                           width="100%">
                        <groupBox height="100%">
                            <split id="itemsSplit"
                                   height="100%"
                                   maxSplitPosition="90%"
                                   minSplitPosition="90%"
                                   orientation="vertical"
                                   pos="90%"
                                   settingsEnabled="false"
                                   width="100%">
                                <scrollBox height="100%"
                                           scrollBars="none">
                                    <grid id="itemsGrid"
                                          margin="true"
                                          spacing="true"
                                          width="100%">
                                        <columns count="4"/>
                                        <rows>
                                            <row/>
                                            <row/>
                                            <row/>
                                            <row/>
                                            <row/>
                                        </rows>
                                    </grid>
                                </scrollBox>
                                <buttonsPanel height="100%"
                                              width="100%">
                                    <button id="itemsBackBtn"
                                            align="BOTTOM_LEFT"
                                            caption="PREV"
                                            height="50px"
                                            invoke="onItemsBackBtnClick"
                                            width="380px"/>
                                    <button id="itemsNextBtn"
                                            align="BOTTOM_RIGHT"
                                            caption="NEXT"
                                            height="50px"
                                            invoke="onItemsNextBtnClick"
                                            width="380px"/>
                                </buttonsPanel>
                            </split>
                        </groupBox>
                        <groupBox height="100%"
                                  outerMargin="false,true,false,false">
                            <split id="categoriesSplit"
                                   height="100%"
                                   maxSplitPosition="90%"
                                   minSplitPosition="90%"
                                   orientation="vertical"
                                   pos="90%"
                                   settingsEnabled="false"
                                   width="100%">
                                <scrollBox height="100%"
                                           scrollBars="none">
                                    <grid id="categoriesGrid"
                                          margin="true"
                                          spacing="true"
                                          width="100%">
                                        <columns count="2"/>
                                        <rows>
                                            <row/>
                                            <row/>
                                            <row/>
                                            <row/>
                                            <row/>
                                        </rows>
                                    </grid>
                                </scrollBox>
                                <buttonsPanel id="buttonPanel"
                                              height="100%"
                                              width="100%">
                                    <button id="categoriesBackBtn"
                                            align="BOTTOM_LEFT"
                                            caption="PREV"
                                            height="50px"
                                            invoke="onCategoriesBackBtnClick"
                                            width="200px"/>
                                    <button id="categoriesNextBtn"
                                            align="BOTTOM_RIGHT"
                                            caption="NEXT"
                                            height="50px"
                                            invoke="onCategoriesNextBtnClick"
                                            width="200px"/>
                                </buttonsPanel>
                            </split>
                        </groupBox>
                    </split>
                </split>
            </split>
            <hbox height="100%"
                  width="100%">
                <buttonsPanel align="MIDDLE_LEFT"
                              height="100%"
                              responsive="true"
                              width="610px">
                    <button id="sendAndCloseBtn"
                            align="MIDDLE_CENTER"
                            caption="SEND&lt;br&gt;AND&lt;br&gt;CLOSE"
                            captionAsHtml="true"
                            height="60px"
                            invoke="onSendAndCloseBtnClick"
                            width="120px"/>
                    <button id="sendBtn"
                            align="MIDDLE_CENTER"
                            caption="SEND"
                            height="60px"
                            invoke="onSendBtnClick"
                            width="120px"/>
                    <button id="reSendBtn"
                            align="MIDDLE_CENTER"
                            caption="RESEND"
                            height="60px"
                            invoke="onReSendBtnClick"
                            width="120px"/>
                    <button id="billBtn"
                            align="MIDDLE_CENTER"
                            caption="BILL"
                            height="60px"
                            invoke="onBillBtnClick"
                            width="120px"/>
                </buttonsPanel>
                <buttonsPanel align="MIDDLE_CENTER"
                              height="100%"/>
                <buttonsPanel align="MIDDLE_RIGHT"
                              height="100%"/>
            </hbox>
        </split>
    </layout>
</window>
